---
import Github from './icons/Github.astro'
import LinkedIn from './icons/LinkedIn.astro'
import Mail from './icons/Mail.astro'
import WhatsApp from './icons/WhatsApp.astro'

// Definimos un array de redes sociales con su href e ícono.
const socials = [
	{ href: 'https://tusitio.com/mail', icon: Mail },
	{ href: 'https://tusitio.com/whatsapp', icon: WhatsApp },
	{ href: 'https://tusitio.com/github', icon: Github },
	{ href: 'https://tusitio.com/linkedin', icon: LinkedIn },
]
---

<section>
	<div class='container'>
		<h2>Desarrollador web</h2>
		<p>Transformo ideas en experiencias digitales que destacan. ¿Listo para crear algo increíble juntos?</p>

		<div class='socials'>
			<ul>
				{
					socials.map((social, index) => (
						<a href={social.href} target='_blank'>
							<li style={`--delay: ${index * 0.1}s;`}>
								<social.icon />
							</li>
						</a>
					))
				}
			</ul>
		</div>
	</div>
</section>

<style>
	section {
		max-width: 600px;
		margin: auto;
	}

	h2 {
		text-align: center;
		margin-bottom: 20px;
		color: var(--dark);
	}

	p {
		text-align: center;
		text-wrap: pretty;
		line-height: 1.5em;
	}

	.socials {
		display: flex;
		justify-content: center;
		margin-top: 30px;
	}

	.socials ul {
		display: flex;
		gap: 20px;
		list-style: none;
	}

	.socials a {
		color: #6ca5a0;
	}

	.socials ul li {
		background-color: #ffffff;
		padding: 12px 12px 10px;
		border-radius: 0;
		opacity: 0;
		transform: translateY(20px) scale(1);
		transition: 0.3s ease-in-out;
	}

	.socials ul li.animate {
		animation: fadeInUp 0.6s ease var(--delay, 0s) forwards;
	}

	.socials ul li:hover {
		background-color: #e8efee;
	}

	svg {
		stroke-width: 1.5;
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
</style>

<!-- Script para detectar cuando cada <li> entra en el viewport y activar la animación -->
<script>
	document.addEventListener('DOMContentLoaded', () => {
		const socialItems = document.querySelectorAll('.socials ul li')
		const observer = new IntersectionObserver(
			(entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						entry.target.classList.add('animate')
						observer.unobserve(entry.target)
					}
				})
			},
			{ threshold: 0.1 }
		)

		socialItems.forEach((item) => observer.observe(item))
	})
</script>
